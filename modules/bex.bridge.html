<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>bex documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>bex</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Class_namespace">Class namespace </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/bex.autoload.augroup.html">bex.autoload.augroup</a></li>
  <li><a href="../modules/bex.autoload.autocmd.html">bex.autoload.autocmd</a></li>
  <li><a href="../modules/bex.autoload.command.html">bex.autoload.command</a></li>
  <li><strong>bex.bridge</strong></li>
  <li><a href="../modules/bex.builtin.map.html">bex.builtin.map</a></li>
  <li><a href="../modules/bex.cmd.html">bex.cmd</a></li>
  <li><a href="../modules/bex.keymap.html">bex.keymap</a></li>
  <li><a href="../modules/bex.param.html">bex.param</a></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/Manual.md.html">Manual</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>bex.bridge</code></h1>
<p>Lua-to-VIM function bridge.</p>
<p> Exposes Lua functions in the <code>v:lua</code> table and as global Vim functions.
 Create a namespace for your module by indexing this module, e.g.:</p>


<pre>
<span class="keyword">local</span> bridge = <span class="global">require</span>(<span class="string">'bex.bridge'</span>).my_module
</pre>

<p> You can then get an identifier for your function by simply indexing
 your namespace:</p>


<pre>
<span class="keyword">local</span> ident = bridge[<span class="keyword">function</span>(...) ... <span class="keyword">end</span>]
</pre>

<p> This identifier can then be used in Vim functions, Ex commands, etc.:</p>


<pre>
<span class="comment">-- An example, use <a href="../modules/bex.cmd.html#">bex.cmd</a> for this instead
</span>vim.cmd(<span class="string">"autocmd mygroup FileType * call "</span> .. ident .. <span class="string">"()"</span>)
</pre>

<p> To prevent registrations from growing without bound if you
 bridge functions dynamically, you can define a <code>reachable</code> method on your
 namespace.  The method should return a function which tests
 whether a given identifier is in use any longer.  For example, the
 built-in autocmd support defines it as follows:</p>


<pre>
<span class="keyword">function</span> bridge:reachable()
    <span class="keyword">local</span> autocmds = vim.api.nvim_exec(<span class="string">"autocmd"</span>, <span class="keyword">true</span>)
    <span class="keyword">return</span> <span class="keyword">function</span>(id)
        <span class="keyword">return</span> <span class="global">string</span>.find(autocmds, id)
    <span class="keyword">end</span>
<span class="keyword">end</span>
</pre>

<p> Garbage collection will be attempted every <code>bridge.gc_interval</code> function
 registrations, which defaults to <code>20</code>.</p>


<h2><a href="#Class_namespace">Class namespace </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#namespace:gc">namespace:gc ()</a></td>
	<td class="summary">Garbage collect namespace.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header has-description"><a name="Class_namespace"></a>Class namespace </h2>

          <div class="section-description">
          Namespace table. </p>

<p> The type of table obtained by indexing this module.
          </div>
    <dl class="function">
    <dt>
    <a name = "namespace:gc"></a>
    <strong>namespace:gc ()</strong>
    </dt>
    <dd>
    Garbage collect namespace. </p>

<p> Explicitly garbage collects the namespace.







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-06-29 21:08:43 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
